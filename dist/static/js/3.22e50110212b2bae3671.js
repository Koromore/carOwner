webpackJsonp([3],{"0R72":function(t,e,a){var s=a("Ya8g"),i=a("o/zv"),n=a("VDOc"),o={};t.exports=function(t,e){return dir_name=i.dirname(t),ori_path=i.resolve(t),dir_path=i.resolve(dir_name),o._create_dir(dir_path,e),o.wstream(ori_path)},o._create_dir=function(t,e){n.sync(t,e)},o.wstream=function(t){var e=s.createWriteStream(t);return this.writer=e,this},o.write=function(t,e,a){return 3===arguments.length?this.writer.write(t,e,a):2===arguments.length&&"function"==typeof arguments[1]?(a=e,e=null,this.writer.write(t,a)):2===arguments.length&&"function"!=typeof arguments[1]?this.writer.write(t,e):this.writer.write(t),this},o.end=function(t,e,a){return 3===arguments.length?this.writer.end(t,e,a):2===arguments.length&&"function"==typeof arguments[1]?(a=e,e=null,this.writer.end(t,a)):2===arguments.length&&"function"!=typeof arguments[1]?this.writer.end(t,e):this.writer.end(t),this},o.finish=function(t){this.writer.on("finish",t)},o.error=function(t){this.writer.on("error",t)}},O3YX:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});a("0R72");var s=a("t4zo"),i={name:"task",components:{},data:function(){return{taskId:"",taskName:"",drawerLoading:!1,detailList:[{ownersName:"",link:"",sum:"",type:!0},{ownersName:"",link:"",sum:"",type:!0}],typeList:[{value:1,label:"支持型"},{value:2,label:"拍摄型"},{value:3,label:"资源型"}],typeId:"",itemIdList:[],itemId:"",carSeriesIdList:[],carSeriesId:"",options:[],value:"",loading:!1,status:this.$store.state.taskStatusNum,taskListData:[],pageNum:1,pageSize:10,total:0,drawerDelay:!1,delayReason:"",delayTime:"",drawerPuttask:!1,input:"",value2:"",pickerOptions:{disabledDate:function(t){return t.getTime()<Date.now()-864e5}},listInviteList:[],options2:[],listInviteData:[]}},watch:{},beforeCreate:function(){},beforeMount:function(){},mounted:function(){this.getshowOwnerType(),this.getCarSeriesLists(),this.getTaskListAjax(),this.getOwnerList()},methods:{getshowOwnerType:function(){var t=this;this.$axios.post("/ocarplay/api/ownerType/showOwnerType",{}).then(function(e){if(200==e.status){var a=[];e.data.data.forEach(function(t){var e=t.itemIds.split("/"),s=t.itemName.split("/");e.forEach(function(t,e){a.push({value:t,label:s[e]})})}),t.itemIdList=a}})},getCarSeriesLists:function(){var t=this;this.$axios.post("/ocarplay/api/carSeries/getCarSeriesLists",{}).then(function(e){if(200==e.status){var a=[];e.data.carTypes.forEach(function(t,e){t.carSeries.forEach(function(e,s){a.push({value:e.carSeriesId,label:t.deptName+"-"+t.carTypeName+"-"+e.carSeriesName})})}),t.carSeriesIdList=a}})},typeIdChange:function(t){this.getTaskListAjax()},itemIdChange:function(t){this.getTaskListAjax()},carSeriesIdChange:function(t){this.getTaskListAjax()},statusChange:function(t){this.status=t,this.getTaskListAjax()},getTaskListAjax:function(){var t=this,e={pageNum:this.pageNum,pageSize:this.pageSize,task:{deleteFlag:!1,status:this.status,typeId:this.typeId,itemId:this.itemId,carSeriesId:this.carSeriesId}};this.$axios.post("/ocarplay/task/listAjax",e).then(function(a){if(200==a.status&&e){var s=a.data.data;s.items.forEach(function(t){t.typeList=[],t.ownerItemList=[],t.ownerName=[],t.invMoney=0,t.listInvite.forEach(function(e){e.listOwnerType&&(t.typeList.push(e.listOwnerType[0].typeName),t.ownerItemList.push(e.listOwnerItem[0].itemName),t.ownerName.push(e.realName)),t.invMoney+=e.money}),t.typeList=t.typeList.join(","),t.ownerItemList=t.ownerItemList.join(","),t.ownerName=t.ownerName.join(",")}),t.taskListData=s.items,t.total=s.totalRows}})},addTask:function(t,e){this.$store.commit("taskStatus",this.status),this.$router.push({path:"/home/addtask",query:{type:t,id:e}})},changeSize:function(t){},changePage:function(t){this.pageNum=t,this.getTaskListAjax()},delay:function(t){this.drawerDelay=!0,this.taskId=t.taskId,this.taskName=t.taskName,console.log(t)},putDelay:function(){var t=this;this.drawerLoading=!0;var e=this.$date0(this.delayTime),a={taskId:this.taskId,status:4,delayReason:this.delayReason,endTime:e},s=!0;[a.delayReason,a.endTime].forEach(function(t){t||(s=!1)}),s?this.$axios.post("/ocarplay/task/save",a).then(function(e){200==e.status&&1==e.data?(t.$message.success("任务延期成功！"),t.drawerDelay=!1,t.getTaskListAjax()):t.$message.error("任务延期失败！"),t.drawerLoading=!1}):(this.$message.error("请检查信息是否完整！"),this.drawerLoading=!1)},getOwnerList:function(){var t=this;this.$axios.post("/ocarplay/api/vehicleOwner/ownerTypeCoopItemOwners",{}).then(function(e){if(200==e.status){var a=[];e.data.forEach(function(t,e){a.push({value:t.typeId,label:t.typeName,children:[]}),t.ownerItems.forEach(function(t,s){a[e].children.push({value:t.itemId,label:t.itemName,children:[]}),t.vehicleOwners.forEach(function(t){a[e].children[s].children.push({value:t.vehicleOwnerId,label:t.name})})})}),t.options2=a}})},putTask:function(t){console.log(t),this.drawerPuttask=!0,this.taskId=t.taskId,this.taskName=t.taskName;var e=[];t.listInvite.forEach(function(t){e.push({inviteData:[t.typeId,t.itemId,t.ownerId],typeId:t.typeId,itemId:t.itemId,ownerId:t.ownerId,url:t.url,money:t.money,isCard:!0})}),this.listInviteList=e},addDetailList:function(){this.listInviteList.push({inviteData:[],typeId:"",itemId:"",ownerId:"",url:"",money:"",isCard:!0})},delDetailList:function(t){this.listInviteList.length>1&&this.listInviteList.splice(t,1)},submitBtn:function(t){var e=this;this.drawerLoading=!0;var a=this.listInviteList;a.forEach(function(t){t.taskId=e.taskId,t.typeId=t.inviteData[0],t.itemId=t.inviteData[1],t.ownerId=t.inviteData[2]});var s={taskId:this.taskId,status:t,updateTime:this.$time0(new Date),listInvite:a};s.listInvite.forEach(function(t){t.isCard?t.isCard=1:t.isCard=0}),console.log(s),this.$axios.post("/ocarplay/task/save",s).then(function(a){console.log(a),200==a.status&&1==a.data?(t?e.$message.success("任务提交成功！"):e.$message.success("任务保存成功！"),e.drawerLoading=!1,e.drawerPuttask=!1,e.getTaskListAjax()):(e.$message.error("任务提交失败！"),e.drawerLoading=!1)}).catch(function(t){console.log(t)})},toDetail:function(t){this.$store.commit("taskStatus",this.status),this.$router.push({name:"taskDetail",params:{id:t}})},toSettlement:function(t){this.$store.commit("taskStatus",this.status),this.$router.push({name:"tasksettlement",params:{id:t.taskId}})},delContent:function(t){var e=this;this.$confirm("确认要删除该任务吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.delTask(t)}).catch(function(){e.$message({type:"info",message:"已取消删除"})})},delTask:function(t){var e=this,a={taskId:t,deleteFlag:1};this.$axios.post("/ocarplay/task/delTask",a).then(function(t){console.log(t),200==t.status&&1==t.data?(e.$message.success("删除任务成功！"),e.getTaskListAjax()):e.$message.error("删除任务失败！")})},exportInvite:function(t){var e=this,a={taskId:t.taskId};this.$axios.post("/ocarplay/api/invite/exportInvite",a,{responseType:"blob"}).then(function(a){if(console.log(a),200==a.status){var i=new Blob([a.data],{type:"text/plain;charset=utf-8"});Object(s.saveAs)(i,t.taskName+".xls")}else e.$message.error("删除任务失败！")})},cancel:function(){this.drawerDelay=!1,this.drawerPuttask=!1,this.delayTime="",this.delayReason="",this.input=""},exportBtn:function(){var t="";this.Cpoint&&this.Structure?t=3:this.Cpoint?t=1:this.Structure&&(t=2),this.exportExl=!1,this.$axios.post("/nmbs_back/api/idea/exportMyExcel?type="+t+"&ideaId="+this.ideaId,{},{headers:{"content-type":"application/json; charset=utf-8"},responseType:"blob"}).then(function(t){console.log(t.data);new Blob([t.data],{type:"text/plain;charset=utf-8"})}).catch(function(){console.log("捕获错误")})}}},n={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"task"}},[a("el-row",{staticClass:"top"},[a("el-col",{staticClass:"left",attrs:{span:12}},[a("el-select",{attrs:{filterable:"",clearable:"",placeholder:"邀约对象",size:"small"},on:{change:t.typeIdChange},model:{value:t.typeId,callback:function(e){t.typeId=e},expression:"typeId"}},t._l(t.typeList,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1),t._v(" "),a("el-select",{attrs:{filterable:"",clearable:"",placeholder:"邀约事项",size:"small"},on:{change:t.itemIdChange},model:{value:t.itemId,callback:function(e){t.itemId=e},expression:"itemId"}},t._l(t.itemIdList,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1),t._v(" "),a("el-select",{attrs:{filterable:"",clearable:"",placeholder:"邀约车型",size:"small"},on:{change:t.carSeriesIdChange},model:{value:t.carSeriesId,callback:function(e){t.carSeriesId=e},expression:"carSeriesId"}},t._l(t.carSeriesIdList,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1)],1),t._v(" "),a("el-col",{staticClass:"right",attrs:{span:12}},[a("el-button-group",[a("el-button",{attrs:{type:"success",size:"medium"},on:{click:function(e){return t.statusChange(0)}}},[t._v("执行中")]),t._v(" "),a("el-button",{attrs:{type:"danger",size:"medium"},on:{click:function(e){return t.statusChange(3)}}},[t._v("延期")]),t._v(" "),a("el-button",{attrs:{type:"warning",size:"medium"},on:{click:function(e){return t.statusChange(1)}}},[t._v("结算中")]),t._v(" "),a("el-button",{attrs:{type:"info",size:"medium"},on:{click:function(e){return t.statusChange(2)}}},[t._v("已完成")])],1),t._v(" "),a("div",{staticClass:"add_task",on:{click:function(e){return t.addTask(0)}}},[a("i",{staticClass:"el-icon-circle-plus-outline"}),t._v(" "),a("br"),t._v("新建任务\n      ")])],1)],1),t._v(" "),a("el-row",{directives:[{name:"show",rawName:"v-show",value:0==t.status,expression:"status==0"}],staticClass:"content content1"},[a("div",{staticClass:"table_list"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.taskListData,"header-row-style":{height:"70px",background:"rgb(242, 242, 242)"},"header-cell-style":{color:"#000",background:"rgb(242, 242, 242)"},height:"100%"}},[a("el-table-column",{attrs:{prop:"",label:"",width:"24","show-overflow-tooltip":""}}),t._v(" "),a("el-table-column",{attrs:{prop:"taskName",label:"任务名称","min-width":"320","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-link",{staticClass:"omit",attrs:{target:"_blank",underline:!1},on:{click:function(a){return t.toDetail(e.row.taskId)}}},[t._v(t._s(e.row.taskName))])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"typeList",label:"邀约对象","min-width":"100","show-overflow-tooltip":""}}),t._v(" "),a("el-table-column",{attrs:{prop:"ownerItemList",label:"邀约事项","min-width":"100","show-overflow-tooltip":""}}),t._v(" "),a("el-table-column",{attrs:{prop:"carSeriesName",label:"邀约车型","min-width":"130","show-overflow-tooltip":""}}),t._v(" "),a("el-table-column",{attrs:{prop:"status",label:"状态","min-width":"80"},scopedSlots:t._u([{key:"default",fn:function(e){return[0==e.row.status?a("div",{staticClass:"statusColor0"},[t._v("进行中")]):t._e(),t._v(" "),1==e.row.status?a("div",{staticClass:"statusColor1"},[t._v("结算中")]):t._e(),t._v(" "),2==e.row.status?a("div",{staticClass:"statusColor2"},[t._v("完成")]):t._e(),t._v(" "),3==e.row.status?a("div",{staticClass:"statusColor3"},[t._v("延期")]):t._e(),t._v(" "),4==e.row.status?a("div",{staticClass:"statusColor4"},[t._v("人工延期")]):t._e()]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"num",label:"任务量","min-width":"80"}}),t._v(" "),a("el-table-column",{attrs:{prop:"listInvite",label:"车主数量","min-width":"80"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n            "+t._s(e.row.listInvite.length)+"\n            ")]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"endTime",label:"预计时间","min-width":"100",sortable:""},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(t.$date(e.row.endTime)))]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"address",label:"操作",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"编辑任务",placement:"top"}},[a("i",{staticClass:"el-icon-edit",on:{click:function(a){return t.addTask(1,e.row.taskId)}}})]),t._v(" "),a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"延期任务",placement:"top"}},[a("i",{staticClass:"el-icon-timer",on:{click:function(a){return t.delay(e.row)}}})]),t._v(" "),a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"提交任务",placement:"top"}},[a("i",{staticClass:"el-icon-circle-check",on:{click:function(a){return t.putTask(e.row)}}})]),t._v(" "),a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"删除任务",placement:"top"}},[a("i",{staticClass:"el-icon-circle-close",on:{click:function(a){return t.delContent(e.row.taskId)}}})])]}}])})],1)],1),t._v(" "),a("el-col",{staticClass:"paging",attrs:{span:24}},[a("el-pagination",{attrs:{"current-page":1,"page-sizes":[10,20,30,40],"page-size":t.pageSize,layout:"total, prev, pager, next ,sizes",total:t.total,background:""},on:{"size-change":t.changeSize,"current-change":t.changePage}})],1)],1),t._v(" "),a("el-row",{directives:[{name:"show",rawName:"v-show",value:3==t.status,expression:"status==3"}],staticClass:"content 内容列表2"},[a("div",{staticClass:"table_list"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.taskListData,"header-row-style":{height:"70px",background:"rgb(242, 242, 242)"},"header-cell-style":{color:"#000",background:"rgb(242, 242, 242)"},height:"100%"}},[a("el-table-column",{attrs:{prop:"",label:"",width:"24","show-overflow-tooltip":""}}),t._v(" "),a("el-table-column",{attrs:{prop:"taskName",label:"任务名称","min-width":"320","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-link",{staticClass:"omit",attrs:{target:"_blank",underline:!1},on:{click:function(a){return t.toDetail(e.row.taskId)}}},[t._v(t._s(e.row.taskName))])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"typeList",label:"邀约对象","min-width":"100","show-overflow-tooltip":""}}),t._v(" "),a("el-table-column",{attrs:{prop:"ownerItemList",label:"邀约事项","min-width":"100","show-overflow-tooltip":""}}),t._v(" "),a("el-table-column",{attrs:{prop:"carSeriesName",label:"邀约车型","min-width":"130","show-overflow-tooltip":""}}),t._v(" "),a("el-table-column",{attrs:{prop:"status",label:"状态","min-width":"80"},scopedSlots:t._u([{key:"default",fn:function(e){return[0==e.row.status?a("div",{staticClass:"statusColor0"},[t._v("进行中")]):t._e(),t._v(" "),1==e.row.status?a("div",{staticClass:"statusColor1"},[t._v("结算中")]):t._e(),t._v(" "),2==e.row.status?a("div",{staticClass:"statusColor2"},[t._v("完成")]):t._e(),t._v(" "),3==e.row.status?a("div",{staticClass:"statusColor3"},[t._v("延期")]):t._e(),t._v(" "),4==e.row.status?a("div",{staticClass:"statusColor4"},[t._v("人工延期")]):t._e()]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"num",label:"任务量","min-width":"80"}}),t._v(" "),a("el-table-column",{attrs:{prop:"listInvite",label:"车主数量","min-width":"80"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n            "+t._s(e.row.listInvite.length)+"\n            ")]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"endTime",label:"预计时间","min-width":"100",sortable:""},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(t.$date(e.row.endTime)))]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"delayReason",label:"延期原因","min-width":"100"}}),t._v(" "),a("el-table-column",{attrs:{prop:"address",label:"操作",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"编辑任务",placement:"top"}},[a("i",{staticClass:"el-icon-edit",on:{click:function(a){return t.addTask(1,e.row.taskId)}}})]),t._v(" "),a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"延期任务",placement:"top"}},[a("i",{staticClass:"el-icon-timer",on:{click:function(a){return t.delay(e.row)}}})]),t._v(" "),a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"提交任务",placement:"top"}},[a("i",{staticClass:"el-icon-circle-check",on:{click:function(a){return t.putTask(e.row)}}})]),t._v(" "),a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"删除任务",placement:"top"}},[a("i",{staticClass:"el-icon-circle-close",on:{click:function(a){return t.delContent(e.row.taskId)}}})])]}}])})],1)],1),t._v(" "),a("el-col",{staticClass:"paging",attrs:{span:24}},[a("el-pagination",{attrs:{"current-page":1,"page-sizes":[10,20,30,40],"page-size":t.pageSize,layout:"total, prev, pager, next ,sizes",total:t.total,background:""},on:{"size-change":t.changeSize,"current-change":t.changePage}})],1)],1),t._v(" "),a("el-row",{directives:[{name:"show",rawName:"v-show",value:1==t.status,expression:"status==1"}],staticClass:"content content3"},[a("div",{staticClass:"table_list"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.taskListData,"header-row-style":{height:"70px",background:"rgb(242, 242, 242)"},"header-cell-style":{color:"#000",background:"rgb(242, 242, 242)"},height:"100%"}},[a("el-table-column",{attrs:{prop:"",label:"",width:"24","show-overflow-tooltip":""}}),t._v(" "),a("el-table-column",{attrs:{prop:"taskName",label:"任务名称","min-width":"320","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-link",{staticClass:"omit",attrs:{target:"_blank",underline:!1},on:{click:function(a){return t.toDetail(e.row.taskId)}}},[t._v(t._s(e.row.taskName))])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"typeList",label:"邀约对象","min-width":"100","show-overflow-tooltip":""}}),t._v(" "),a("el-table-column",{attrs:{prop:"ownerItemList",label:"邀约事项","min-width":"100","show-overflow-tooltip":""}}),t._v(" "),a("el-table-column",{attrs:{prop:"carSeriesName",label:"邀约车型","min-width":"130","show-overflow-tooltip":""}}),t._v(" "),a("el-table-column",{attrs:{prop:"status",label:"状态","min-width":"80"},scopedSlots:t._u([{key:"default",fn:function(e){return[0==e.row.status?a("div",{staticClass:"statusColor0"},[t._v("进行中")]):t._e(),t._v(" "),1==e.row.status?a("div",{staticClass:"statusColor1"},[t._v("结算中")]):t._e(),t._v(" "),2==e.row.status?a("div",{staticClass:"statusColor2"},[t._v("完成")]):t._e(),t._v(" "),3==e.row.status?a("div",{staticClass:"statusColor3"},[t._v("延期")]):t._e(),t._v(" "),4==e.row.status?a("div",{staticClass:"statusColor4"},[t._v("人工延期")]):t._e()]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"num",label:"任务量","min-width":"80"}}),t._v(" "),a("el-table-column",{attrs:{prop:"listInvite",label:"结算进度","min-width":"80"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("i",{staticClass:"el-icon-view",on:{click:function(a){return t.toSettlement(e.row)}}})]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"address",label:"结算清单",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("img",{attrs:{src:"static/images/document/excle.png",width:"16",alt:"",srcset:""}}),t._v(" "),a("el-link",{on:{click:function(a){return t.exportInvite(e.row)}}},[t._v(t._s(e.row.taskName))])]}}])})],1)],1),t._v(" "),a("el-col",{staticClass:"paging",attrs:{span:24}},[a("el-pagination",{attrs:{"current-page":1,"page-sizes":[10,20,30,40],"page-size":t.pageSize,layout:"total, prev, pager, next ,sizes",total:t.total,background:""},on:{"size-change":t.changeSize,"current-change":t.changePage}})],1)],1),t._v(" "),a("el-row",{directives:[{name:"show",rawName:"v-show",value:2==t.status,expression:"status==2"}],staticClass:"content content4"},[a("div",{staticClass:"table_list"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.taskListData,"header-row-style":{height:"70px",background:"rgb(242, 242, 242)"},"header-cell-style":{color:"#000",background:"rgb(242, 242, 242)"},height:"100%"}},[a("el-table-column",{attrs:{prop:"",label:"",width:"24","show-overflow-tooltip":""}}),t._v(" "),a("el-table-column",{attrs:{prop:"taskName",label:"任务名称","min-width":"320","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-link",{staticClass:"omit",attrs:{target:"_blank",underline:!1},on:{click:function(a){return t.toDetail(e.row.taskId)}}},[t._v(t._s(e.row.taskName))])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"typeList",label:"邀约对象","min-width":"100","show-overflow-tooltip":""}}),t._v(" "),a("el-table-column",{attrs:{prop:"ownerItemList",label:"邀约事项","min-width":"100","show-overflow-tooltip":""}}),t._v(" "),a("el-table-column",{attrs:{prop:"carSeriesName",label:"邀约车型","min-width":"130","show-overflow-tooltip":""}}),t._v(" "),a("el-table-column",{attrs:{prop:"status",label:"状态","min-width":"80"},scopedSlots:t._u([{key:"default",fn:function(e){return[0==e.row.status?a("div",{staticClass:"statusColor0"},[t._v("进行中")]):t._e(),t._v(" "),1==e.row.status?a("div",{staticClass:"statusColor1"},[t._v("结算中")]):t._e(),t._v(" "),2==e.row.status?a("div",{staticClass:"statusColor2"},[t._v("完成")]):t._e(),t._v(" "),3==e.row.status?a("div",{staticClass:"statusColor3"},[t._v("延期")]):t._e(),t._v(" "),4==e.row.status?a("div",{staticClass:"statusColor4"},[t._v("人工延期")]):t._e()]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"num",label:"任务量","min-width":"80"}}),t._v(" "),a("el-table-column",{attrs:{prop:"endTime",label:"完成时间","min-width":"100",sortable:""},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(t.$date(e.row.endTime)))]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"invMoney",label:"总费用","min-width":"100"}}),t._v(" "),a("el-table-column",{attrs:{prop:"address",label:"结算清单",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("img",{attrs:{src:"static/images/document/excle.png",width:"16",alt:"",srcset:""}}),t._v(" "),a("el-link",{on:{click:function(a){return t.exportInvite(e.row)}}},[t._v(t._s(e.row.taskName))])]}}])})],1)],1),t._v(" "),a("el-col",{staticClass:"paging",attrs:{span:24}},[a("el-pagination",{attrs:{"current-page":1,"page-sizes":[10,20,30,40],"page-size":t.pageSize,layout:"total, prev, pager, next ,sizes",total:t.total,background:""},on:{"size-change":t.changeSize,"current-change":t.changePage}})],1)],1),t._v(" "),a("el-drawer",{attrs:{title:"延期任务",visible:t.drawerDelay,size:"566px"},on:{"update:visible":function(e){t.drawerDelay=e}}},[a("el-row",{directives:[{name:"loading",rawName:"v-loading",value:t.drawerLoading,expression:"drawerLoading"}],staticClass:"drawerDelay"},[a("el-col",{attrs:{span:4}},[t._v("任务名称:")]),t._v(" "),a("el-col",{attrs:{span:20}},[t._v(t._s(t.taskName))]),t._v(" "),a("el-col",{attrs:{span:4}},[t._v("预计时间:")]),t._v(" "),a("el-col",{attrs:{span:20}},[a("el-date-picker",{attrs:{type:"date",placeholder:"选择日期","picker-options":t.pickerOptions},model:{value:t.delayTime,callback:function(e){t.delayTime=e},expression:"delayTime"}})],1),t._v(" "),a("el-col",{staticClass:"key keycontent",attrs:{span:4}},[t._v("延期说明:")]),t._v(" "),a("el-col",{attrs:{span:20}},[a("el-input",{attrs:{type:"textarea",rows:6,placeholder:"请输入内容"},model:{value:t.delayReason,callback:function(e){t.delayReason=e},expression:"delayReason"}})],1),t._v(" "),a("el-col",{staticClass:"btn",attrs:{span:24}},[a("el-col",{attrs:{span:6,offset:5}},[a("el-button",{attrs:{type:"info"},on:{click:t.cancel}},[t._v("取消")])],1),t._v(" "),a("el-col",{attrs:{span:6,offset:2}},[a("el-button",{attrs:{type:"primary"},on:{click:t.putDelay}},[t._v("提交")])],1)],1)],1)],1),t._v(" "),a("el-drawer",{attrs:{title:"提交任务",visible:t.drawerPuttask,size:"720px"},on:{"update:visible":function(e){t.drawerPuttask=e}}},[a("el-scrollbar",{staticStyle:{height:"100%"}},[a("el-row",{directives:[{name:"loading",rawName:"v-loading",value:t.drawerLoading,expression:"drawerLoading"}],staticClass:"drawerPuttask"},[a("el-col",{attrs:{span:4}},[t._v("任务名称:")]),t._v(" "),a("el-col",{attrs:{span:20}},[t._v(t._s(t.taskName))]),t._v(" "),a("el-col",{staticClass:"keycontent",attrs:{span:4}},[t._v("结算明细:")]),t._v(" "),a("el-col",{attrs:{span:20}},t._l(t.listInviteList,function(e,s){return a("el-col",{key:s,staticClass:"detailList",attrs:{span:24}},[a("el-col",{attrs:{span:5}},[a("el-cascader",{attrs:{options:t.options2,clearable:"",filterable:"","show-all-levels":!1},model:{value:e.inviteData,callback:function(a){t.$set(e,"inviteData",a)},expression:"item.inviteData"}})],1),t._v(" "),a("el-col",{attrs:{span:6}},[a("el-input",{attrs:{placeholder:"链接",clearable:""},model:{value:e.url,callback:function(a){t.$set(e,"url",a)},expression:"item.url"}})],1),t._v(" "),a("el-col",{attrs:{span:4}},[a("el-input",{attrs:{placeholder:"金额",clearable:""},model:{value:e.money,callback:function(a){t.$set(e,"money",a)},expression:"item.money"}})],1),t._v(" "),a("el-col",{attrs:{span:6}},[a("el-switch",{staticStyle:{display:"block"},attrs:{"active-color":"#13ce66","inactive-color":"#ff4949","active-text":"现金","inactive-text":"油卡"},model:{value:e.isCard,callback:function(a){t.$set(e,"isCard",a)},expression:"item.isCard"}})],1),t._v(" "),a("el-col",{attrs:{span:2}},[a("i",{staticClass:"el-icon-delete",on:{click:function(e){return t.delDetailList(s)}}}),t._v(" "),a("i",{staticClass:"el-icon-circle-plus-outline",on:{click:t.addDetailList}})])],1)}),1)],1)],1),t._v(" "),a("el-col",{staticClass:"btn",attrs:{span:24}},[a("el-col",{attrs:{span:6,offset:5}},[a("el-button",{attrs:{type:"info"},on:{click:function(e){return t.submitBtn(0)}}},[t._v("保存")])],1),t._v(" "),a("el-col",{attrs:{span:6,offset:2}},[a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.submitBtn(1)}}},[t._v("提交")])],1)],1)],1)],1)},staticRenderFns:[]};var o=a("VU/8")(i,n,!1,function(t){a("k6El")},"data-v-d956ddbc",null);e.default=o.exports},VDOc:function(t,e,a){(function(e){var s=a("o/zv"),i=a("Ya8g"),n=parseInt("0777",8);function o(t,a,l,r){"function"==typeof a?(l=a,a={}):a&&"object"==typeof a||(a={mode:a});var c=a.mode,u=a.fs||i;void 0===c&&(c=n&~e.umask()),r||(r=null);var d=l||function(){};t=s.resolve(t),u.mkdir(t,c,function(e){if(!e)return d(null,r=r||t);switch(e.code){case"ENOENT":o(s.dirname(t),a,function(e,s){e?d(e,s):o(t,a,d,s)});break;default:u.stat(t,function(t,a){t||!a.isDirectory()?d(e,r):d(null,r)})}})}t.exports=o.mkdirp=o.mkdirP=o,o.sync=function t(a,o,l){o&&"object"==typeof o||(o={mode:o});var r=o.mode,c=o.fs||i;void 0===r&&(r=n&~e.umask()),l||(l=null),a=s.resolve(a);try{c.mkdirSync(a,r),l=l||a}catch(e){switch(e.code){case"ENOENT":t(a,o,l=t(s.dirname(a),o,l));break;default:var u;try{u=c.statSync(a)}catch(t){throw e}if(!u.isDirectory())throw e}}return l}}).call(e,a("W2nU"))},Ya8g:function(t,e){},k6El:function(t,e){},"o/zv":function(t,e,a){(function(t){function a(t,e){for(var a=0,s=t.length-1;s>=0;s--){var i=t[s];"."===i?t.splice(s,1):".."===i?(t.splice(s,1),a++):a&&(t.splice(s,1),a--)}if(e)for(;a--;a)t.unshift("..");return t}function s(t,e){if(t.filter)return t.filter(e);for(var a=[],s=0;s<t.length;s++)e(t[s],s,t)&&a.push(t[s]);return a}e.resolve=function(){for(var e="",i=!1,n=arguments.length-1;n>=-1&&!i;n--){var o=n>=0?arguments[n]:t.cwd();if("string"!=typeof o)throw new TypeError("Arguments to path.resolve must be strings");o&&(e=o+"/"+e,i="/"===o.charAt(0))}return e=a(s(e.split("/"),function(t){return!!t}),!i).join("/"),(i?"/":"")+e||"."},e.normalize=function(t){var n=e.isAbsolute(t),o="/"===i(t,-1);return(t=a(s(t.split("/"),function(t){return!!t}),!n).join("/"))||n||(t="."),t&&o&&(t+="/"),(n?"/":"")+t},e.isAbsolute=function(t){return"/"===t.charAt(0)},e.join=function(){var t=Array.prototype.slice.call(arguments,0);return e.normalize(s(t,function(t,e){if("string"!=typeof t)throw new TypeError("Arguments to path.join must be strings");return t}).join("/"))},e.relative=function(t,a){function s(t){for(var e=0;e<t.length&&""===t[e];e++);for(var a=t.length-1;a>=0&&""===t[a];a--);return e>a?[]:t.slice(e,a-e+1)}t=e.resolve(t).substr(1),a=e.resolve(a).substr(1);for(var i=s(t.split("/")),n=s(a.split("/")),o=Math.min(i.length,n.length),l=o,r=0;r<o;r++)if(i[r]!==n[r]){l=r;break}var c=[];for(r=l;r<i.length;r++)c.push("..");return(c=c.concat(n.slice(l))).join("/")},e.sep="/",e.delimiter=":",e.dirname=function(t){if("string"!=typeof t&&(t+=""),0===t.length)return".";for(var e=t.charCodeAt(0),a=47===e,s=-1,i=!0,n=t.length-1;n>=1;--n)if(47===(e=t.charCodeAt(n))){if(!i){s=n;break}}else i=!1;return-1===s?a?"/":".":a&&1===s?"/":t.slice(0,s)},e.basename=function(t,e){var a=function(t){"string"!=typeof t&&(t+="");var e,a=0,s=-1,i=!0;for(e=t.length-1;e>=0;--e)if(47===t.charCodeAt(e)){if(!i){a=e+1;break}}else-1===s&&(i=!1,s=e+1);return-1===s?"":t.slice(a,s)}(t);return e&&a.substr(-1*e.length)===e&&(a=a.substr(0,a.length-e.length)),a},e.extname=function(t){"string"!=typeof t&&(t+="");for(var e=-1,a=0,s=-1,i=!0,n=0,o=t.length-1;o>=0;--o){var l=t.charCodeAt(o);if(47!==l)-1===s&&(i=!1,s=o+1),46===l?-1===e?e=o:1!==n&&(n=1):-1!==e&&(n=-1);else if(!i){a=o+1;break}}return-1===e||-1===s||0===n||1===n&&e===s-1&&e===a+1?"":t.slice(e,s)};var i="b"==="ab".substr(-1)?function(t,e,a){return t.substr(e,a)}:function(t,e,a){return e<0&&(e=t.length+e),t.substr(e,a)}}).call(e,a("W2nU"))},t4zo:function(t,e,a){(function(a){var s,i,n;i=[],void 0===(n="function"==typeof(s=function(){"use strict";function e(t,e,a){var s=new XMLHttpRequest;s.open("GET",t),s.responseType="blob",s.onload=function(){o(s.response,e,a)},s.onerror=function(){console.error("could not download file")},s.send()}function s(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch(t){}return 200<=e.status&&299>=e.status}function i(t){try{t.dispatchEvent(new MouseEvent("click"))}catch(a){var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var n="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof a&&a.global===a?a:void 0,o=n.saveAs||("object"!=typeof window||window!==n?function(){}:"download"in HTMLAnchorElement.prototype?function(t,a,o){var l=n.URL||n.webkitURL,r=document.createElement("a");a=a||t.name||"download",r.download=a,r.rel="noopener","string"==typeof t?(r.href=t,r.origin===location.origin?i(r):s(r.href)?e(t,a,o):i(r,r.target="_blank")):(r.href=l.createObjectURL(t),setTimeout(function(){l.revokeObjectURL(r.href)},4e4),setTimeout(function(){i(r)},0))}:"msSaveOrOpenBlob"in navigator?function(t,a,n){if(a=a||t.name||"download","string"!=typeof t)navigator.msSaveOrOpenBlob(function(t,e){return void 0===e?e={autoBom:!1}:"object"!=typeof e&&(console.warn("Deprecated: Expected third argument to be a object"),e={autoBom:!e}),e.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(t.type)?new Blob(["\ufeff",t],{type:t.type}):t}(t,n),a);else if(s(t))e(t,a,n);else{var o=document.createElement("a");o.href=t,o.target="_blank",setTimeout(function(){i(o)})}}:function(t,a,s,i){if((i=i||open("","_blank"))&&(i.document.title=i.document.body.innerText="downloading..."),"string"==typeof t)return e(t,a,s);var o="application/octet-stream"===t.type,l=/constructor/i.test(n.HTMLElement)||n.safari,r=/CriOS\/[\d]+/.test(navigator.userAgent);if((r||o&&l)&&"object"==typeof FileReader){var c=new FileReader;c.onloadend=function(){var t=c.result;t=r?t:t.replace(/^data:[^;]*;/,"data:attachment/file;"),i?i.location.href=t:location=t,i=null},c.readAsDataURL(t)}else{var u=n.URL||n.webkitURL,d=u.createObjectURL(t);i?i.location=d:location.href=d,i=null,setTimeout(function(){u.revokeObjectURL(d)},4e4)}});n.saveAs=o.saveAs=o,void 0!==t&&(t.exports=o)})?s.apply(e,i):s)||(t.exports=n)}).call(e,a("DuR2"))}});