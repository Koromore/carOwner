webpackJsonp([24],{KU5h:function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var s={name:"scheduletype",props:{openDrawer:Number},components:{},data:function(){return{dayTypeId:"",dayTypeName:"",dayTypeListData:[],drawerData:!1,drawerTietle:"新增数据"}},watch:{openDrawer:function(e,a){this.drawerData=!0,this.drawerTietle="新增数据"}},beforeCreate:function(){},beforeMount:function(){},mounted:function(){this.getDayTypeList()},methods:{changeSize:function(e){console.log(e)},changePage:function(e){console.log(e)},redact:function(e){this.drawerData=!0,this.drawerTietle="编辑数据",this.dayTypeId=e.dayTypeId,this.dayTypeName=e.dayTypeName},cancel:function(){this.drawerData=!1},drawerDataClose:function(){this.dayTypeId="",this.dayTypeName=""},getDayTypeList:function(){var e=this;this.loading=!0;this.$axios.post("/ocarplay/api/dayType/listAjaxUnPage",{ids:0,pageNum:1,pageSize:30}).then(function(a){if(e.loading=!1,200==a.status){var t=a.data;e.dayTypeListData=t}})},saveSubmit:function(){var e={dayTypeId:this.dayTypeId,dayTypeName:this.dayTypeName};this.saveDayType(e)},saveDayType:function(e){var a=this;this.drawerData=!1,this.$axios.post("/ocarplay/api/dayType/saveOrUpdate",e).then(function(e){200==e.status?(a.messageWin(e.data.msg),a.getDayTypeList()):a.messageWin(e.data.msg)})},deleteDayType:function(e){var a=this,t={dayTypeId:e};this.$axios.post("/ocarplay/api/dayType/deleteDayType",t).then(function(e){200==e.status&&0==e.data.errcode?(a.messageWin(e.data.msg),a.getDayTypeList()):a.messageError(e.data.msg)})},delContent:function(e){var a=this;this.$confirm("确认要删除该数据吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){a.deleteDayType(e)}).catch(function(){a.$message({type:"info",message:"已取消删除"})})},messageWin:function(e){this.$message({message:e,type:"success"})},messageWarning:function(e){this.$message({message:e,type:"warning"})},messageError:function(e){this.$message.error(e)}}},n={render:function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{attrs:{id:"scheduletype"}},[t("div",{staticClass:"table_list"},[t("el-table",{staticStyle:{width:"100%"},attrs:{data:e.dayTypeListData,"header-row-style":{height:"70px",background:"rgb(242, 242, 242)"},"header-cell-style":{color:"#000",background:"rgb(242, 242, 242)"},height:"100%"}},[t("el-table-column",{attrs:{prop:"name",label:"序号",width:"81",align:"center"},scopedSlots:e._u([{key:"default",fn:function(a){return[e._v("0"+e._s(a.$index+1))]}}])}),e._v(" "),t("el-table-column",{attrs:{prop:"dayTypeName",label:"日程类型","min-width":"240"}}),e._v(" "),t("el-table-column",{attrs:{label:"操作",width:"100"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("i",{staticClass:"el-icon-edit",on:{click:function(t){return e.redact(a.row)}}}),e._v(" "),t("i",{staticClass:"el-icon-delete",on:{click:function(t){return e.delContent(a.row.dayTypeId)}}})]}}])})],1)],1),e._v(" "),t("el-col",{staticClass:"paging",attrs:{span:24}},[t("el-pagination",{attrs:{"current-page":1,"page-sizes":[10,20,30,40],"page-size":10,layout:"total, prev, pager, next ,sizes",total:100,background:""},on:{"size-change":e.changeSize,"current-change":e.changePage}})],1),e._v(" "),t("el-drawer",{attrs:{title:e.drawerTietle,visible:e.drawerData,size:"566px"},on:{"update:visible":function(a){e.drawerData=a},close:e.drawerDataClose}},[t("el-row",{staticClass:"drawerData"},[t("el-col",{attrs:{span:4}},[e._v("日程类型:")]),e._v(" "),t("el-col",{attrs:{span:18}},[t("el-input",{attrs:{placeholder:"请输入内容",clearable:""},model:{value:e.dayTypeName,callback:function(a){e.dayTypeName=a},expression:"dayTypeName"}})],1),e._v(" "),t("el-col",{staticClass:"btn",attrs:{span:24}},[t("el-col",{attrs:{span:6,offset:5}},[t("el-button",{attrs:{type:"info"},on:{click:e.cancel}},[e._v("取消")])],1),e._v(" "),t("el-col",{attrs:{span:6,offset:2}},[t("el-button",{attrs:{type:"primary"},on:{click:e.saveSubmit}},[e._v("提交")])],1)],1)],1)],1)],1)},staticRenderFns:[]};var i=t("VU/8")(s,n,!1,function(e){t("vg90")},"data-v-01395c6d",null);a.default=i.exports},vg90:function(e,a){}});