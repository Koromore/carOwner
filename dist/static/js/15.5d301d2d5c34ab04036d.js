webpackJsonp([15],{FVCj:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var l={name:"owners",components:{},data:function(){return{listLoading:!1,ownerListData:[],tab1act:1,tab2act:0,tab2Items:[],chartTitle:"任务完成数量",chartKeyData:["执行中","结算中","延期","已完成"],chartvalData:[520,360,130,240],tableData:[],options:[{value:"选项1",label:"黄金糕"},{value:"选项2",label:"双皮奶"},{value:"选项3",label:"蚵仔煎"},{value:"选项4",label:"龙须面"},{value:"选项5",label:"北京烤鸭"}],value:"",leisureOwnersList:[{value:"空挡车主",label:"空挡车主"},{value:"未来3天",label:"未来3天"},{value:"未来5天",label:"未来5天"},{value:"未来一周",label:"未来一周"},{value:"未来一月",label:"未来一月"}],leisureOwners:""}},watch:{tab1act:function(t,e){this.geteventDataList(t)}},beforeCreate:function(){},beforeMount:function(){},mounted:function(){this.geteventDataList(1)},methods:{geteventDataList:function(t){var e=this,a={typeId:t};this.$axios.post("/ocarplay/api/vehicleOwner/getOwnerTypeItems",a).then(function(t){if(200==t.status){var a=[];t.data.forEach(function(t){a.push({id:t.itemId,name:t.itemName})}),e.tab2Items=a,e.tab2act=a[0].id,e.getVehicleOwnerList()}})},getVehicleOwnerList:function(){var t=this,e={vehicleOwner:{typeId:this.tab1act,itemId:this.tab2act}};this.$axios.post("/ocarplay/api/vehicleOwner/listAjax",e).then(function(e){if(200==e.status){var a=e.data;t.ownerListData=a.items}})},tab1:function(t){this.tab1act=t,this.getVehicleOwnerList()},tab2:function(t){this.tab2act=t,this.getVehicleOwnerList()},changeSize:function(t){console.log(t)},changePage:function(t){console.log(t)},toOwnerssite:function(t){this.$router.push({name:"ownerssite",params:{ownerId:t.ownerId}}),console.log(t)},toRecord:function(t){this.$router.push({name:"ownersrecord",params:{id:t}})},toOwnersschedule:function(t){this.$router.push({name:"ownersschedule",params:{id:t}})},delContent:function(t){var e=this;this.$confirm("确认要删除该场地吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.delOwners(t)}).catch(function(){e.$message({type:"info",message:"已取消删除"})})},delOwners:function(t){var e=this,a={coopId:t.coopId,typeId:t.typeId};this.$axios.post("/ocarplay/api/vehicleOwner/deleteVehicleOwner",a).then(function(t){if(200==t.status&&0==t.data.errcode){var a=t.data;e.ownerListData=a.items,e.messageWin(t.data.msg),e.getVehicleOwnerList()}else e.messageError(t.data.msg)})},submit:function(){this.$router.push({path:"/home/addowners"})},toDetail:function(t){this.$router.push({name:"ownersdetail",params:{typeId:t.typeId,vehicleOwnerId:t.ownerId,itemName:t.itemName}})},messageWin:function(t){this.$message({message:t,type:"success"})},messageWarning:function(t){this.$message({message:t,type:"warning"})},messageError:function(t){this.$message.error(t)}}},n={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"owners"}},[a("el-row",{staticClass:"top"},[a("el-col",{staticClass:"left",attrs:{span:16}},[a("div",{staticClass:"butBox1"},[a("div",{class:[1==t.tab1act?"but act":"but"],on:{click:function(e){return t.tab1(1)}}},[t._v("支持型")]),t._v(" "),a("div",{class:[2==t.tab1act?"but act":"but"],on:{click:function(e){return t.tab1(2)}}},[t._v("拍摄型")]),t._v(" "),a("div",{class:[3==t.tab1act?"but act":"but"],on:{click:function(e){return t.tab1(3)}}},[t._v("资源型")])]),t._v(" "),a("div",{staticClass:"butBox2"},t._l(t.tab2Items,function(e,l){return a("div",{key:l,class:[t.tab2act==e.id?"but act":"but"],on:{click:function(a){return t.tab2(e.id)}}},[t._v(t._s(e.name))])}),0)]),t._v(" "),a("el-col",{staticClass:"right",attrs:{span:8}},[a("el-select",{attrs:{clearable:"",placeholder:"空挡车主",size:"small"},model:{value:t.leisureOwners,callback:function(e){t.leisureOwners=e},expression:"leisureOwners"}},t._l(t.leisureOwnersList,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1),t._v(" "),a("el-select",{attrs:{clearable:"",placeholder:"车型",size:"small"},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}},t._l(t.options,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1),t._v(" "),a("el-select",{attrs:{clearable:"",placeholder:"城市",size:"small"},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}},t._l(t.options,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1),t._v(" "),a("div",{staticClass:"add",on:{click:t.submit}},[a("i",{staticClass:"el-icon-circle-plus-outline"}),t._v(" "),a("br"),t._v("添加车主\n      ")])],1)],1),t._v(" "),a("el-row",{directives:[{name:"show",rawName:"v-show",value:1==t.tab1act,expression:"tab1act==1"}],staticClass:"content content1"},[a("div",{staticClass:"table_list"},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}],staticStyle:{width:"100%"},attrs:{data:t.ownerListData,"header-row-style":{height:"70px",background:"rgb(242, 242, 242)"},"header-cell-style":{color:"#000",background:"rgb(242, 242, 242)"},height:"100%"}},[a("el-table-column",{attrs:{prop:"",label:"序号",width:"81",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.$index<9?[t._v("0"+t._s(e.$index+1))]:[t._v(t._s(e.$index+1))]]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"ownerName",label:"车主姓名","min-width":"81","show-overflow-tooltip":""}}),t._v(" "),a("el-table-column",{attrs:{prop:"carSeriesName",label:"认证车型","min-width":"180","show-overflow-tooltip":""}}),t._v(" "),a("el-table-column",{attrs:{prop:"itemName",label:"合作事项","min-width":"81","show-overflow-tooltip":""}}),t._v(" "),a("el-table-column",{attrs:{prop:"timeLimit",label:"合作时长","min-width":"81"}}),t._v(" "),a("el-table-column",{attrs:{prop:"coopMoney",label:"合作费用","min-width":"81"}}),t._v(" "),a("el-table-column",{attrs:{prop:"coopNum",label:"固定合作总量","min-width":"100"}}),t._v(" "),a("el-table-column",{attrs:{prop:"alreadyCooperateNum",label:"历史合作次数","min-width":"100"}}),t._v(" "),a("el-table-column",{attrs:{prop:"surplusnum",label:"剩余合作次数","min-width":"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n            "+t._s(e.row.coopNum-e.row.alreadyCooperateNum)+"\n          ")]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"period",label:"结算周期","min-width":"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[0==e.row.period?[t._v("按月结算")]:t._e(),t._v(" "),1==e.row.period?[t._v("按年结算")]:t._e(),t._v(" "),2==e.row.period?[t._v("按季度结算")]:t._e()]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"",label:"操作",width:"160"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"车主信息",placement:"top"}},[a("i",{staticClass:"el-icon-view",on:{click:function(a){return t.toDetail(e.row)}}})]),t._v(" "),a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"场地信息",placement:"top"}},[a("i",{staticClass:"el-icon-map-location",on:{click:function(a){return t.toOwnerssite(e.row)}}})]),t._v(" "),a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"删除",placement:"top"}},[a("i",{staticClass:"el-icon-delete",on:{click:function(a){return t.delContent(e.row)}}})])]}}])})],1)],1),t._v(" "),a("el-col",{staticClass:"paging",attrs:{span:24}},[a("el-pagination",{attrs:{"current-page":1,"page-sizes":[10,20,30,40],"page-size":10,layout:"total, prev, pager, next ,sizes",total:100,background:""},on:{"size-change":t.changeSize,"current-change":t.changePage}})],1)],1),t._v(" "),a("el-row",{directives:[{name:"show",rawName:"v-show",value:2==t.tab1act,expression:"tab1act==2"}],staticClass:"content content2"},[a("div",{staticClass:"table_list"},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}],staticStyle:{width:"100%"},attrs:{data:t.ownerListData,"header-row-style":{height:"70px",background:"rgb(242, 242, 242)"},"header-cell-style":{color:"#000",background:"rgb(242, 242, 242)"},height:"100%"}},[a("el-table-column",{attrs:{prop:"",label:"序号",width:"81",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("0"+t._s(e.$index+1))]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"ownerName",label:"车主姓名","min-width":"81","show-overflow-tooltip":""}}),t._v(" "),a("el-table-column",{attrs:{prop:"carSeriesName",label:"认证车型","min-width":"180","show-overflow-tooltip":""}}),t._v(" "),a("el-table-column",{attrs:{prop:"ownerArea",label:"所在区域","min-width":"81","show-overflow-tooltip":""}}),t._v(" "),a("el-table-column",{attrs:{prop:"skillName",label:"特长","min-width":"81"}}),t._v(" "),a("el-table-column",{attrs:{prop:"nickname",label:"IP账号","min-width":"81"}}),t._v(" "),a("el-table-column",{attrs:{prop:"timeLimit",label:"合作时长","min-width":"100"}}),t._v(" "),a("el-table-column",{attrs:{prop:"alreadyCooperateNum",label:"历史合作次数","min-width":"100"}}),t._v(" "),a("el-table-column",{attrs:{prop:"currMonthCooperateNum",label:"本月合作次数","min-width":"100"}}),t._v(" "),a("el-table-column",{attrs:{prop:"",label:"操作",width:"230"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"预约记录",placement:"top"}},[a("i",{staticClass:"el-icon-time",on:{click:function(a){return t.toRecord(e.row.ownerId)}}})]),t._v(" "),a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"车主信息",placement:"top"}},[a("i",{staticClass:"el-icon-view",on:{click:function(a){return t.toDetail(e.row)}}})]),t._v(" "),a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"日程管理",placement:"top"}},[a("i",{staticClass:"el-icon-date",on:{click:function(a){return t.toOwnersschedule(e.row.ownerId)}}})]),t._v(" "),a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"场地信息",placement:"top"}},[a("i",{staticClass:"el-icon-map-location",on:{click:t.toOwnerssite}})]),t._v(" "),a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"删除",placement:"top"}},[a("i",{staticClass:"el-icon-delete",on:{click:function(a){return t.delContent(e.row)}}})])]}}])})],1)],1),t._v(" "),a("el-col",{staticClass:"paging",attrs:{span:24}},[a("el-pagination",{attrs:{"current-page":1,"page-sizes":[10,20,30,40],"page-size":10,layout:"total, prev, pager, next ,sizes",total:100,background:""},on:{"size-change":t.changeSize,"current-change":t.changePage}})],1)],1),t._v(" "),a("el-row",{directives:[{name:"show",rawName:"v-show",value:3==t.tab1act,expression:"tab1act==3"}],staticClass:"content content3"},[a("div",{staticClass:"table_list"},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}],staticStyle:{width:"100%"},attrs:{data:t.ownerListData,"header-row-style":{height:"70px",background:"rgb(242, 242, 242)"},"header-cell-style":{color:"#000",background:"rgb(242, 242, 242)"},height:"100%"}},[a("el-table-column",{attrs:{prop:"",label:"序号",width:"81",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("0"+t._s(e.$index+1))]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"ownerName",label:"车主姓名","min-width":"81","show-overflow-tooltip":""}}),t._v(" "),a("el-table-column",{attrs:{prop:"carSeriesName",label:"认证车型","min-width":"180","show-overflow-tooltip":""}}),t._v(" "),a("el-table-column",{attrs:{prop:"ownerArea",label:"所在区域","min-width":"81","show-overflow-tooltip":""}}),t._v(" "),a("el-table-column",{attrs:{prop:"skillName",label:"特长","min-width":"81"}}),t._v(" "),a("el-table-column",{attrs:{prop:"nickname",label:"IP账号","min-width":"81"}}),t._v(" "),a("el-table-column",{attrs:{prop:"timeLimit",label:"合作时长","min-width":"100"}}),t._v(" "),a("el-table-column",{attrs:{prop:"alreadyCooperateNum",label:"历史合作次数","min-width":"100"}}),t._v(" "),a("el-table-column",{attrs:{prop:"currMonthCooperateNum",label:"本月合作次数","min-width":"100"}}),t._v(" "),a("el-table-column",{attrs:{prop:"",label:"操作",width:"230"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"预约记录",placement:"top"}},[a("i",{staticClass:"el-icon-time",on:{click:function(a){return t.toRecord(e.row.ownerId)}}})]),t._v(" "),a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"车主信息",placement:"top"}},[a("i",{staticClass:"el-icon-view",on:{click:function(a){return t.toDetail(e.row)}}})]),t._v(" "),a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"日程管理",placement:"top"}},[a("i",{staticClass:"el-icon-date",on:{click:function(a){return t.toOwnersschedule(e.row.ownerId)}}})]),t._v(" "),a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"场地信息",placement:"top"}},[a("i",{staticClass:"el-icon-map-location",on:{click:t.toOwnerssite}})]),t._v(" "),a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"删除",placement:"top"}},[a("i",{staticClass:"el-icon-delete",on:{click:function(a){return t.delContent(e.row)}}})])]}}])})],1)],1),t._v(" "),a("el-col",{staticClass:"paging",attrs:{span:24}},[a("el-pagination",{attrs:{"current-page":1,"page-sizes":[10,20,30,40],"page-size":10,layout:"total, prev, pager, next ,sizes",total:100,background:""},on:{"size-change":t.changeSize,"current-change":t.changePage}})],1)],1)],1)},staticRenderFns:[]};var o=a("VU/8")(l,n,!1,function(t){a("e8de")},"data-v-4c4da010",null);e.default=o.exports},e8de:function(t,e){}});