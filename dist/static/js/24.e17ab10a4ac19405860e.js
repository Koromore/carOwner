webpackJsonp([24],{"/Day":function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var s={name:"brand",props:{openDrawer:Number},components:{},data:function(){return{input:"",carTypeListData:[{siteName:"张家古楼",type:"热门网红场地",city:"东北三省",add:"东北三省"}],drawerData:!1,drawerTietle:"新增数据",loading:!0,deptId:"",deptIdList:[{value:110,label:"吉利"},{value:105,label:"沃尔沃"},{value:153,label:"长城"}],carTypeName:"",carTypeId:"",saveType:0,carTypeList:[],carTypeAct:""}},watch:{openDrawer:function(e,a){this.drawerData=!0,this.drawerTietle="新增数据",this.saveType=0,this.carTypeId=""}},beforeCreate:function(){},beforeMount:function(){},mounted:function(){this.getCarTypeLists()},methods:{redact:function(e){this.drawerData=!0,this.drawerTietle="编辑数据",this.saveType=1,this.deptId=e.deptId;var a=e.carTypeIds.split("/"),t=e.carTypeName.split("/");console.log(a),console.log(t);var s=[];a.forEach(function(e,a){var r={value:e,label:t[a]};s.push(r)}),this.carTypeList=s},cancel:function(){this.drawerData=!1},drawerDataClose:function(){this.carTypeId="",this.deptId="",this.carTypeName="",this.carTypeAct=""},getCarTypeLists:function(){var e=this;this.loading=!0;this.$axios.post("/ocarplay/api/carType/getCarTypeLists",{ids:0}).then(function(a){if(e.loading=!1,200==a.status){var t=a.data;e.carTypeListData=t.items,e.total=t.totalRows}})},saveSubmit:function(){var e=this,a={carTypeId:this.carTypeAct,carTypeName:this.carTypeName,deptId:this.deptId},t=[];if(0==this.saveType)if(-1!=this.carTypeName.indexOf("/")){var s=this.carTypeName.split("/");console.log(s),s.forEach(function(a){t.push({carTypeName:a,deptId:e.deptId,deleteFlag:!1,createTime:e.$time0(new Date),updateTime:e.$time0(new Date)})}),console.log(t),this.saveCarTypes(t)}else this.saveCarType(a);else 1==this.saveType&&this.saveCarType(a)},saveCarType:function(e){var a=this;this.drawerData=!1,this.$axios.post("/ocarplay/api/carType/saveCarType",e).then(function(e){200==e.status&&0==e.data.errcode?(a.messageWin(e.data.msg),a.getCarTypeLists()):a.messageWin(e.data.msg)})},saveCarTypes:function(e){var a=this;this.drawerData=!1,this.$axios.post("/ocarplay/api/carType/saveCarTypes",e).then(function(e){200==e.status&&0==e.data.errcode?(a.messageWin(e.data.msg),a.getCarTypeLists()):a.messageWin(e.data.msg)})},messageWin:function(e){this.$message({message:e,type:"success"})},messageWarning:function(e){this.$message({message:e,type:"warning"})},messageError:function(e){this.$message.error(e)}}},r={render:function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{attrs:{id:"brand"}},[t("div",{staticClass:"table_list"},[t("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:e.carTypeListData,"header-row-style":{height:"70px",background:"rgb(242, 242, 242)"},"header-cell-style":{color:"#000",background:"rgb(242, 242, 242)"},height:"100%"}},[t("el-table-column",{attrs:{prop:"name",label:"序号",width:"81",align:"center"},scopedSlots:e._u([{key:"default",fn:function(a){return[e._v("0"+e._s(a.$index+1))]}}])}),e._v(" "),t("el-table-column",{attrs:{prop:"deptName",label:"品牌名称",width:"240"}}),e._v(" "),t("el-table-column",{attrs:{prop:"carTypeName",label:"车型列表","min-width":"240"}}),e._v(" "),t("el-table-column",{attrs:{prop:"address",label:"操作",width:"100"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("i",{staticClass:"el-icon-edit",on:{click:function(t){return e.redact(a.row)}}})]}}])})],1)],1),e._v(" "),t("el-drawer",{attrs:{title:e.drawerTietle,visible:e.drawerData,size:"566px"},on:{"update:visible":function(a){e.drawerData=a},close:e.drawerDataClose}},[t("el-row",{staticClass:"drawerData"},[t("el-col",{attrs:{span:4}},[e._v("品牌名称:")]),e._v(" "),t("el-col",{attrs:{span:18}},[t("el-select",{attrs:{clearable:"",placeholder:"请选择"},model:{value:e.deptId,callback:function(a){e.deptId=a},expression:"deptId"}},e._l(e.deptIdList,function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1),e._v(" "),0==e.saveType?[t("el-col",{attrs:{span:4}},[e._v("车型列表:")]),e._v(" "),t("el-col",{attrs:{span:18}},[t("el-input",{attrs:{placeholder:"请输入内容",clearable:""},model:{value:e.carTypeName,callback:function(a){e.carTypeName=a},expression:"carTypeName"}})],1),e._v(" "),t("el-col",{attrs:{span:18,offset:4}},[t("span",[e._v("批量添加请用“/”隔开")])])]:e._e(),e._v(" "),1==e.saveType?[t("el-col",{attrs:{span:4}},[e._v("车型列表:")]),e._v(" "),t("el-col",{attrs:{span:18}},[t("el-select",{attrs:{clearable:"",placeholder:"请选择"},model:{value:e.carTypeAct,callback:function(a){e.carTypeAct=a},expression:"carTypeAct"}},e._l(e.carTypeList,function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1),e._v(" "),t("el-col",{attrs:{span:4}},[e._v("车型名称:")]),e._v(" "),t("el-col",{attrs:{span:18}},[t("el-input",{attrs:{placeholder:"请输入内容",clearable:""},model:{value:e.carTypeName,callback:function(a){e.carTypeName=a},expression:"carTypeName"}})],1)]:e._e()],2),e._v(" "),t("el-col",{staticClass:"btn",attrs:{span:24}},[t("el-col",{attrs:{span:6,offset:5}},[t("el-button",{attrs:{type:"info"},on:{click:e.cancel}},[e._v("取消")])],1),e._v(" "),t("el-col",{attrs:{span:6,offset:2}},[t("el-button",{attrs:{type:"primary"},on:{click:e.saveSubmit}},[e._v("提交")])],1)],1)],1)],1)},staticRenderFns:[]};var l=t("VU/8")(s,r,!1,function(e){t("jPvg")},"data-v-1a9fa8eb",null);a.default=l.exports},jPvg:function(e,a){}});